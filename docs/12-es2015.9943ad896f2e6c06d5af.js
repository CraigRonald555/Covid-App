(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{VpTV:function(t,e,a){"use strict";a.r(e),a.d(e,"CountryPageModule",(function(){return f}));var i=a("ofXK"),n=a("3Pt+"),s=a("TEn/"),r=a("tyNb"),o=a("mrSG"),c=a("AKWm"),h=a("sCaM"),b=a("VIqg"),d=a("gj+k"),l=a("iBRH"),u=a("fXoL"),p=a("yTNM");function g(t,e){1&t&&(u.Kb(0),u.hc(1," Sorry, we couldn't find specific covid data related to this country. Please check again at a later date "),u.Jb())}function m(t,e){if(1&t&&(u.Kb(0),u.Mb(1,"ion-row",7),u.Mb(2,"ion-col",8),u.Mb(3,"p"),u.hc(4,"Total Cases"),u.Lb(),u.Ib(5,"p",9),u.Lb(),u.Mb(6,"ion-col",8),u.Mb(7,"p"),u.hc(8,"New Cases"),u.Lb(),u.Ib(9,"p",9),u.Lb(),u.Lb(),u.Mb(10,"ion-row",7),u.Mb(11,"ion-col",8),u.Mb(12,"p"),u.hc(13,"Total Deaths"),u.Lb(),u.Mb(14,"ion-text",10),u.Ib(15,"p",9),u.Lb(),u.Lb(),u.Mb(16,"ion-col",8),u.Mb(17,"p"),u.hc(18,"New Deaths"),u.Lb(),u.Mb(19,"ion-text",10),u.Ib(20,"p",9),u.Lb(),u.Lb(),u.Lb(),u.Mb(21,"ion-row",7),u.Mb(22,"ion-col",8),u.Mb(23,"p"),u.hc(24,"Total Recovered"),u.Lb(),u.Mb(25,"ion-text",11),u.Ib(26,"p",9),u.Lb(),u.Lb(),u.Mb(27,"ion-col",8),u.Mb(28,"p"),u.hc(29,"New Recovered"),u.Lb(),u.Mb(30,"ion-text",11),u.Ib(31,"p",9),u.Lb(),u.Lb(),u.Lb(),u.Jb()),2&t){const t=u.Vb();u.xb(5),u.ac("innerText",t.textData.totalCases),u.xb(4),u.ac("innerText",t.textData.newCases),u.xb(6),u.ac("innerText",t.textData.totalDeaths),u.xb(5),u.ac("innerText",t.textData.newDeaths),u.xb(6),u.ac("innerText",t.textData.totalRecovered),u.xb(5),u.ac("innerText",t.textData.newRecovered)}}const x=[{path:":country",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.apiService=e,this.margin={top:20,right:40,bottom:30,left:60},this.necessaryDataReturned=!1,this.noDataFound=!1,this.width=900-this.margin.left-this.margin.right,this.height=500-this.margin.top-this.margin.bottom}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){let t;this.currentCountry=this.activatedRoute.snapshot.url[0].path;try{t=yield this.apiService.findCountryInSummary(this.currentCountry),this.necessaryDataReturned=!0,this.textData={totalCases:this.numberWithCommas(t.TotalConfirmed),totalDeaths:this.numberWithCommas(t.TotalDeaths),totalRecovered:this.numberWithCommas(t.TotalRecovered),newCases:this.numberWithCommas(t.NewConfirmed),newDeaths:this.numberWithCommas(t.NewDeaths),newRecovered:this.numberWithCommas(t.NewRecovered)},yield this.initialiseGraph()}catch(e){console.log(e),this.noDataFound=!0}}))}initialiseGraph(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.apiService.findSlugByCountryName(this.currentCountry);this.graphData=yield this.apiService.getPast7DaysNewCases(t),this.svg=c.a("#lineChart").append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 900 500"),this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=h.a().rangeRound([0,this.width]).padding(.1),this.y=b.a().rangeRound([this.height,0]),this.x.domain(this.graphData.map(t=>t.day)),this.y.domain([0,d.a(this.graphData,t=>t.newCases)]),this.g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+this.height+")").call(l.a(this.x)).attr("font-size","14"),this.g.append("g").attr("class","axis axis--y").call(l.b(this.y)).attr("font-size","14"),this.g.selectAll(".scatter-dots").data(this.graphData).enter().append("circle").attr("class","svg:circle").attr("fill","rgb(84, 129, 177)").attr("cx",t=>this.x(t.day)).attr("cy",t=>this.y(t.newCases)).attr("width",this.x.bandwidth()).attr("height",t=>this.height-this.y(t.newCases)).attr("transform","translate(50,0)").attr("r",10)}))}numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return t.\u0275fac=function(e){return new(e||t)(u.Hb(r.a),u.Hb(p.a))},t.\u0275cmp=u.Bb({type:t,selectors:[["app-country"]],decls:11,vars:3,consts:[["color","secondary"],["slot","start"],[1,"ion-text-center",3,"innerHTML"],[1,"ion-padding"],[2,"font-weight","bold"],["id","lineChart"],[4,"ngIf"],[1,"ion-margin","border"],[1,"ion-text-center"],[3,"innerText"],["color","danger"],["color","success"]],template:function(t,e){1&t&&(u.Mb(0,"ion-header"),u.Mb(1,"ion-toolbar",0),u.Mb(2,"ion-buttons",1),u.Ib(3,"ion-back-button"),u.Lb(),u.Ib(4,"ion-title",2),u.Lb(),u.Lb(),u.Mb(5,"ion-content",3),u.Mb(6,"p",4),u.hc(7,"New cases over the past seven days"),u.Lb(),u.Ib(8,"div",5),u.gc(9,g,2,0,"ng-container",6),u.gc(10,m,32,6,"ng-container",6),u.Lb()),2&t&&(u.xb(4),u.ac("innerHTML",e.currentCountry,u.dc),u.xb(5),u.ac("ngIf",e.noDataFound),u.xb(1),u.ac("ngIf",e.necessaryDataReturned&&!e.noDataFound))},directives:[s.h,s.q,s.e,s.b,s.c,s.p,s.g,i.i,s.m,s.f,s.o],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(x)],r.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=u.Fb({type:t}),t.\u0275inj=u.Eb({factory:function(e){return new(e||t)},imports:[[i.b,n.a,s.r,y]]}),t})()}}]);