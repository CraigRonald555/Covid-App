!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{VpTV:function(n,a,i){"use strict";i.r(a),i.d(a,"CountryPageModule",(function(){return D}));var r=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),h=i("mrSG"),b=i("AKWm"),u=i("sCaM"),d=i("VIqg"),l=i("gj+k"),p=i("iBRH"),f=i("fXoL"),g=i("yTNM");function m(t,e){1&t&&(f.Kb(0),f.hc(1," Sorry, we couldn't find specific covid data related to this country. Please check again at a later date "),f.Jb())}function x(t,e){if(1&t&&(f.Kb(0),f.Mb(1,"ion-row",7),f.Mb(2,"ion-col",8),f.Mb(3,"p"),f.hc(4,"Total Cases"),f.Lb(),f.Ib(5,"p",9),f.Lb(),f.Mb(6,"ion-col",8),f.Mb(7,"p"),f.hc(8,"New Cases"),f.Lb(),f.Ib(9,"p",9),f.Lb(),f.Lb(),f.Mb(10,"ion-row",7),f.Mb(11,"ion-col",8),f.Mb(12,"p"),f.hc(13,"Total Deaths"),f.Lb(),f.Mb(14,"ion-text",10),f.Ib(15,"p",9),f.Lb(),f.Lb(),f.Mb(16,"ion-col",8),f.Mb(17,"p"),f.hc(18,"New Deaths"),f.Lb(),f.Mb(19,"ion-text",10),f.Ib(20,"p",9),f.Lb(),f.Lb(),f.Lb(),f.Mb(21,"ion-row",7),f.Mb(22,"ion-col",8),f.Mb(23,"p"),f.hc(24,"Total Recovered"),f.Lb(),f.Mb(25,"ion-text",11),f.Ib(26,"p",9),f.Lb(),f.Lb(),f.Mb(27,"ion-col",8),f.Mb(28,"p"),f.hc(29,"New Recovered"),f.Lb(),f.Mb(30,"ion-text",11),f.Ib(31,"p",9),f.Lb(),f.Lb(),f.Lb(),f.Jb()),2&t){var n=f.Vb();f.xb(5),f.ac("innerText",n.textData.totalCases),f.xb(4),f.ac("innerText",n.textData.newCases),f.xb(6),f.ac("innerText",n.textData.totalDeaths),f.xb(5),f.ac("innerText",n.textData.newDeaths),f.xb(6),f.ac("innerText",n.textData.totalRecovered),f.xb(5),f.ac("innerText",n.textData.newRecovered)}}var v,w,y,C=[{path:":country",component:(v=function(){function n(e,a){t(this,n),this.activatedRoute=e,this.apiService=a,this.margin={top:20,right:40,bottom:30,left:60},this.necessaryDataReturned=!1,this.noDataFound=!1,this.width=900-this.margin.left-this.margin.right,this.height=500-this.margin.top-this.margin.bottom}var a,i,r;return a=n,(i=[{key:"ngOnInit",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentCountry=this.activatedRoute.snapshot.url[0].path,t.prev=1,t.next=4,this.apiService.findCountryInSummary(this.currentCountry);case 4:return e=t.sent,this.necessaryDataReturned=!0,this.textData={totalCases:this.numberWithCommas(e.TotalConfirmed),totalDeaths:this.numberWithCommas(e.TotalDeaths),totalRecovered:this.numberWithCommas(e.TotalRecovered),newCases:this.numberWithCommas(e.NewConfirmed),newDeaths:this.numberWithCommas(e.NewDeaths),newRecovered:this.numberWithCommas(e.NewRecovered)},t.next=9,this.initialiseGraph();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),this.noDataFound=!0;case 14:case"end":return t.stop()}}),t,this,[[1,11]])})))}},{key:"initialiseGraph",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.findSlugByCountryName(this.currentCountry);case 2:return e=t.sent,t.next=5,this.apiService.getPast7DaysNewCases(e);case 5:this.graphData=t.sent,this.svg=b.a("#lineChart").append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 900 500"),this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=u.a().rangeRound([0,this.width]).padding(.1),this.y=d.a().rangeRound([this.height,0]),this.x.domain(this.graphData.map((function(t){return t.day}))),this.y.domain([0,l.a(this.graphData,(function(t){return t.newCases}))]),this.g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+this.height+")").call(p.a(this.x)).attr("font-size","14"),this.g.append("g").attr("class","axis axis--y").call(p.b(this.y)).attr("font-size","14"),this.g.selectAll(".scatter-dots").data(this.graphData).enter().append("circle").attr("class","svg:circle").attr("fill","rgb(84, 129, 177)").attr("cx",(function(t){return n.x(t.day)})).attr("cy",(function(t){return n.y(t.newCases)})).attr("width",this.x.bandwidth()).attr("height",(function(t){return n.height-n.y(t.newCases)})).attr("transform","translate(50,0)").attr("r",10);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"numberWithCommas",value:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}])&&e(a.prototype,i),r&&e(a,r),n}(),v.\u0275fac=function(t){return new(t||v)(f.Hb(c.a),f.Hb(g.a))},v.\u0275cmp=f.Bb({type:v,selectors:[["app-country"]],decls:11,vars:3,consts:[["color","secondary"],["slot","start"],[1,"ion-text-center",3,"innerHTML"],[1,"ion-padding"],[2,"font-weight","bold"],["id","lineChart"],[4,"ngIf"],[1,"ion-margin","border"],[1,"ion-text-center"],[3,"innerText"],["color","danger"],["color","success"]],template:function(t,e){1&t&&(f.Mb(0,"ion-header"),f.Mb(1,"ion-toolbar",0),f.Mb(2,"ion-buttons",1),f.Ib(3,"ion-back-button"),f.Lb(),f.Ib(4,"ion-title",2),f.Lb(),f.Lb(),f.Mb(5,"ion-content",3),f.Mb(6,"p",4),f.hc(7,"New cases over the past seven days"),f.Lb(),f.Ib(8,"div",5),f.gc(9,m,2,0,"ng-container",6),f.gc(10,x,32,6,"ng-container",6),f.Lb()),2&t&&(f.xb(4),f.ac("innerHTML",e.currentCountry,f.dc),f.xb(5),f.ac("ngIf",e.noDataFound),f.xb(1),f.ac("ngIf",e.necessaryDataReturned&&!e.noDataFound))},directives:[s.h,s.q,s.e,s.b,s.c,s.p,s.g,r.i,s.m,s.f,s.o],styles:[""]}),v)}],M=((y=function e(){t(this,e)}).\u0275mod=f.Fb({type:y}),y.\u0275inj=f.Eb({factory:function(t){return new(t||y)},imports:[[c.i.forChild(C)],c.i]}),y),D=((w=function e(){t(this,e)}).\u0275mod=f.Fb({type:w}),w.\u0275inj=f.Eb({factory:function(t){return new(t||w)},imports:[[r.b,o.a,s.r,M]]}),w)}}])}();