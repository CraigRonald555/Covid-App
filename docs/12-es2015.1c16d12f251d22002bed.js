(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{VpTV:function(t,e,a){"use strict";a.r(e),a.d(e,"CountryPageModule",(function(){return f}));var i=a("ofXK"),n=a("3Pt+"),s=a("TEn/"),r=a("tyNb"),o=a("mrSG"),h=a("AKWm"),c=a("sCaM"),b=a("VIqg"),l=a("gj+k"),d=a("iBRH"),p=a("fXoL"),u=a("yTNM");function g(t,e){1&t&&(p.Kb(0),p.hc(1," Sorry, we couldn't find specific covid data related to this country. Please check again at a later date "),p.Jb())}function m(t,e){if(1&t&&(p.Kb(0),p.Mb(1,"ion-row",6),p.Mb(2,"ion-col",7),p.Mb(3,"p"),p.hc(4,"Total Cases"),p.Lb(),p.Ib(5,"p",8),p.Lb(),p.Mb(6,"ion-col",7),p.Mb(7,"p"),p.hc(8,"New Cases"),p.Lb(),p.Ib(9,"p",8),p.Lb(),p.Lb(),p.Mb(10,"ion-row",6),p.Mb(11,"ion-col",7),p.Mb(12,"p"),p.hc(13,"Total Deaths"),p.Lb(),p.Mb(14,"ion-text",9),p.Ib(15,"p",8),p.Lb(),p.Lb(),p.Mb(16,"ion-col",7),p.Mb(17,"p"),p.hc(18,"New Deaths"),p.Lb(),p.Mb(19,"ion-text",9),p.Ib(20,"p",8),p.Lb(),p.Lb(),p.Lb(),p.Mb(21,"ion-row",6),p.Mb(22,"ion-col",7),p.Mb(23,"p"),p.hc(24,"Total Recovered"),p.Lb(),p.Mb(25,"ion-text",10),p.Ib(26,"p",8),p.Lb(),p.Lb(),p.Mb(27,"ion-col",7),p.Mb(28,"p"),p.hc(29,"New Recovered"),p.Lb(),p.Mb(30,"ion-text",10),p.Ib(31,"p",8),p.Lb(),p.Lb(),p.Lb(),p.Jb()),2&t){const t=p.Vb();p.xb(5),p.ac("innerText",t.textData.totalCases),p.xb(4),p.ac("innerText",t.textData.newCases),p.xb(6),p.ac("innerText",t.textData.totalDeaths),p.xb(5),p.ac("innerText",t.textData.newDeaths),p.xb(6),p.ac("innerText",t.textData.totalRecovered),p.xb(5),p.ac("innerText",t.textData.newRecovered)}}const x=[{path:":country",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.apiService=e,this.margin={top:20,right:40,bottom:30,left:60},this.necessaryDataReturned=!1,this.noDataFound=!1,this.width=900-this.margin.left-this.margin.right,this.height=500-this.margin.top-this.margin.bottom}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){let t;this.currentCountry=this.activatedRoute.snapshot.url[0].path;try{t=yield this.apiService.findCountryInSummary(this.currentCountry),this.necessaryDataReturned=!0,this.textData={totalCases:this.numberWithCommas(t.TotalConfirmed),totalDeaths:this.numberWithCommas(t.TotalDeaths),totalRecovered:this.numberWithCommas(t.TotalRecovered),newCases:this.numberWithCommas(t.NewConfirmed),newDeaths:this.numberWithCommas(t.NewDeaths),newRecovered:this.numberWithCommas(t.NewRecovered)},console.log(t),console.log(this.textData),yield this.initialiseGraph()}catch(e){console.log(e),this.noDataFound=!0}}))}initialiseGraph(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.apiService.findSlugByCountryName(this.currentCountry);this.graphData=yield this.apiService.getPast7DaysNewCases(t),this.svg=h.a("#lineChart").append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 900 500"),this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.x=c.a().rangeRound([0,this.width]).padding(.1),this.y=b.a().rangeRound([this.height,0]),this.x.domain(this.graphData.map(t=>t.day)),this.y.domain([0,l.a(this.graphData,t=>t.newCases)]),this.g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+this.height+")").call(d.a(this.x)).attr("font-size","14"),this.g.append("g").attr("class","axis axis--y").call(d.b(this.y)).attr("font-size","14"),this.g.selectAll(".scatter-dots").data(this.graphData).enter().append("circle").attr("class","svg:circle").attr("fill","rgb(84, 129, 177)").attr("cx",t=>this.x(t.day)).attr("cy",t=>this.y(t.newCases)).attr("width",this.x.bandwidth()).attr("height",t=>this.height-this.y(t.newCases)).attr("transform","translate(50,0)").attr("r",5),this.svg.append("line").data(this.graphData).enter().append("line").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("x",t=>this.x(t.day)).attr("y",t=>this.y(t.newCases))}))}numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}return t.\u0275fac=function(e){return new(e||t)(p.Hb(r.a),p.Hb(u.a))},t.\u0275cmp=p.Bb({type:t,selectors:[["app-country"]],decls:9,vars:3,consts:[["color","secondary"],["slot","start"],[1,"ion-text-center",3,"innerHTML"],[1,"ion-padding"],["id","lineChart"],[4,"ngIf"],[1,"ion-margin","border"],[1,"ion-text-center"],[3,"innerText"],["color","danger"],["color","success"]],template:function(t,e){1&t&&(p.Mb(0,"ion-header"),p.Mb(1,"ion-toolbar",0),p.Mb(2,"ion-buttons",1),p.Ib(3,"ion-back-button"),p.Lb(),p.Ib(4,"ion-title",2),p.Lb(),p.Lb(),p.Mb(5,"ion-content",3),p.Ib(6,"div",4),p.gc(7,g,2,0,"ng-container",5),p.gc(8,m,32,6,"ng-container",5),p.Lb()),2&t&&(p.xb(4),p.ac("innerHTML",e.currentCountry,p.dc),p.xb(3),p.ac("ngIf",e.noDataFound),p.xb(1),p.ac("ngIf",e.necessaryDataReturned&&!e.noDataFound))},directives:[s.h,s.q,s.e,s.b,s.c,s.p,s.g,i.i,s.m,s.f,s.o],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(x)],r.i]}),t})(),f=(()=>{class t{}return t.\u0275mod=p.Fb({type:t}),t.\u0275inj=p.Eb({factory:function(e){return new(e||t)},imports:[[i.b,n.a,s.r,y]]}),t})()}}]);